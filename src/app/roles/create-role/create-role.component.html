<div class="container w-50 pt-4 pb-4">
    <h1 class="text-center">Create Role</h1>
    <form #createRoleForm="ngForm" (ngSubmit)="processRoleCreateForm(createRoleForm)">
      <div class="form-group">
        <label class="control-label" for="name">Name</label>
        <input minlength="3" required class="form-control" type="text" name="name" id="name" [(ngModel)]="role.name" #nameVariable="ngModel">
        <div class="text-danger" *ngIf="nameVariable.invalid && nameVariable.dirty">
            Name is required and needs to be at least 3 characters long.
        </div>
      </div>
      <div class="form-group">
        <label for="permissions">Permissions</label>
        <div id="permissions">
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'ReadRoles')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox1" [checked]="role.permissions.indexOf('ReadRoles') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox1">Read Roles</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'ReadUsers')" class="form-check-input"
            type="checkbox" id="inlineCheckbox2" [checked]="role.permissions.indexOf('ReadUsers') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox2">Read Users</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'CreateRole')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox3" [checked]="role.permissions.indexOf('CreateRole') > -1 ? true : false">
            <label class="form-check-label" for="inlineCheckbox3">Create Role</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'CreateUser')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('CreateUser') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Create User</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'UpdateUser')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('UpdateUser') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Update User</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'UpdateRole')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('UpdateRole') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Update Role</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'DeleteUser')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('DeleteUser') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Delete User</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'DeleteRole')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('DeleteRole') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Delete Role</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'UnarchiveRole')" class="form-check-input" 
            type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('UnarchiveRole') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Unarchive Role</label>
          </div>
          <div class="form-check form-check-inline">
            <input (change)="onCheckBoxChange($event, 'UnarchiveUser')" class="form-check-input" 
          type="checkbox" id="inlineCheckbox4" [checked]="role.permissions.indexOf('UnarchiveUser') > -1 ? true : false"> 
            <label class="form-check-label" for="inlineCheckbox4">Unarchive User</label>
          </div>
        </div>
        <div class="text-danger" *ngIf="permissionsError && permissionsTouched">
            At least one role must be selected.
        </div>
      </div>
      <button [disabled]="permissionsError || !createRoleForm.valid" type="submit" class="btn btn-primary">Save</button>
      <div *ngIf="showSuccessAlert" class="alert alert-success fade show" role="alert">
        Role Successfully Created
      </div>
    </form>
  </div>